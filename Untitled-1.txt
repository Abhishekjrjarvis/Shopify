<% let best = 0 %>
                            <% let moderate = 0 %> 
                            <% let good = 0 %>
                            <% let poor = 0 %> 
                            <% let bad = 0 %>   
                        <% for(let r of product.reviews) {%> 
                            <% if(r.rating == 5) {%>   
                                <% best = r.reviewCategory %> 
                            <% } else if(r.rating == 4){ %>
                                <% good = r.reviewCategory %> 
                            <% } else if(r.rating == 3){%>
                                <% moderate = r.reviewCategory %>
                            <% } else if(r.rating == 2){%>
                                <% poor = r.reviewCategory %> 
                            <% } else {%>
                                <% bad = r.reviewCategory %> 
                            <% } %>     
                        <% } %>



                        router.get('/', async(req, res) =>{
    const { reviewCategory } = req.query;
    console.log(reviewCategory);
    if (reviewCategory) {
      const products = await Product.find({reviews: reviewCategory});
      const review = await Review.find({ reviewCategory: reviewCategory });
      console.log(products);
      res.render("show", { review, reviewCategory: reviewCategory });
    } else {
      const review = await Review.find({});
      res.render("show", { review, reviewCategory: "All" });
    }
})







<a href="/products/<%= product._id %>?reviewCategory=Good" class="dropdown-item">
                            Good
                         </a>
                         <a href="/products/<%= product._id %>?reviewCategory=Moderate" class="dropdown-item">
                            Moderate
                         </a>
                         <a href="/products/<%= product._id %>?reviewCategory=Poor" class="dropdown-item">
                            Poor
                         </a>
                         <a href="/products/<%= product._id %>?reviewCategory=Bad" class="dropdown-item">
                            Bad
                         </a>





                         <% layout('./layouts/boilerplate') %> 
<link rel="stylesheet" href="/css/productsNew.css">
    <div class="container">
        <div class="row">
            <div class="col-sm-4 col-md-6">
                <div class="card bg-dark mt-5 p-2" style="border-radius: 10px; box-shadow: 0 0 20px 0px rgba(255,255,255,0.8);">
                        <h2 class="text-center mt-3 text-white">Add Product</h2>
                        <div class="card-body">
                            <form action="/farms/<%= id %>/products " method="POST" enctype="multipart/form-data" class="validCredentials-form" novalidate>
                                <div class="form-group">
                                    <label for="name" class="text-white">Product Name</label>
                                    <input type="text" class="form-control bg-dark text-white" name="name" id="name" placeholder="Mac Air 2021" required>
                                </div>
                                <div class="form-group">
                                    <label for="description" class="text-white">Description</label>
                                    <textarea  class="form-control bg-dark text-white" name="description" id="description" cols="30" rows="4" placeholder="Detailed about Product" required></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="price" class="text-white">Price</label>
                                    <input type="Number" class="form-control bg-dark text-white" name="price" id="price" placeholder="$ 19.99 " required>
                                </div>
                                <div class="form-group">
                                    <label for="category" class="text-white">Category</label>
                                    <select class="form-control text-white bg-dark" name="categories" value="Categories" id="category">
                                        <option class="text-white" value="Electronics">Electronics</option>
                                        <option class="text-white" value="Fashion">Fashion</option>
                                        <option class="text-white" value="Grocery">Grocery</option>
                                        <option class="text-white" value="Appliances">Appliances</option>
                                        <option class="text-white" value="Mobiles">Mobiles</option>
                                        <option class="text-white" value="Toys">Toys</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="tag" class="text-white">Tag</label>
                                    <select class="form-control text-white bg-dark" name="tag" value="Tag" id="tag">
                                        <option class="text-white" value="T-Shirts">T-Shirts</option>
                                        <option class="text-white" value="Jeans">Jeans</option>
                                        <option class="text-white" value="Pants">Pants</option>
                                        <option class="text-white" value="Cotton">Cotton</option>
                                        <option class="text-white" value="Formal">Formal</option>
                                        <option class="text-white" value="Trousers">Trousers</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="image" class="text-white">Upload Image</label>
                                    <input type="file" class="form-control bg-dark text-white images-valid" accept="image/png, image/jpeg" name="images" id="image" placeholder="product image " required multiple>
                                    <small class="text-white">Users must upload only 5 images.</small>
                                </div>
                                
                                <button class="btn btn-success btn-sm adds-new images-button-valid" disabled="">Submit</button>
                            </form>
                         </div>
                </div>      
            </div>
        </div>
    </div>
    <script>
        const b = document.getElementsByTagName('input')[3];
        const button = document.querySelector('.images-button-valid')
        b.addEventListener('change', function(){
            if(b.files.length == 5){
                button.removeAttribute('disabled')
            }
            else{

            }
        })
    
        
    </script>